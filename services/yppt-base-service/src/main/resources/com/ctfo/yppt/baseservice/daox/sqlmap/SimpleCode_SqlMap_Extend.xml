<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="SIMPLE_CODE_EXTEND">

  <resultMap id="abatorgenerated_SimpleCodeResult" class="com.ctfo.base.service.beans.SimpleCode" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Jan 19 12:09:36 CST 2015.
    -->
    <result column="ID" property="id" jdbcType="VARCHAR" />
    <result column="TYPE_NAME" property="typeName" jdbcType="VARCHAR" />
    <result column="TYPE_CODE" property="typeCode" jdbcType="VARCHAR" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="CODE" property="code" jdbcType="VARCHAR" />
    <result column="CODE_LEVEL" property="codeLevel" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="PID" property="pid" jdbcType="VARCHAR" />
    <result column="SORT" property="sort" jdbcType="DECIMAL" />
  </resultMap>
  <select id="selectSimpleCodeComplex" parameterClass="java.util.Map" resultMap="abatorgenerated_SimpleCodeResult">
  	select * from TB_SIMPLE_CODE where code in ( #codeTypes:VARCHAR#  )
  	union 
  	select * from TB_SIMPLE_CODE where PID in (select ID from TB_SIMPLE_CODE where code in ( #codeTypes:VARCHAR# ) )
  	union 
  	select * from TB_SIMPLE_CODE where PID in (select ID from TB_SIMPLE_CODE where PID in (select ID from TB_SIMPLE_CODE where code in ( #codeTypes:VARCHAR# ) ))
  	
  </select>
</sqlMap>